shuffledOptions.forEach(option => {
                    const optionDiv = document.createElement('div');
                    optionDiv.classList.add('option');
                    
                    const input = document.createElement('input');
                    input.type = 'radio';
                    input.name = question${q.id};
                    input.value = option;
                    input.id = q${q.id}_${option.replace(/\s+/g, '')};
                    
                    const label = document.createElement('label');
                    label.htmlFor = input.id;
                    label.textContent = option;
                    
                    optionDiv.appendChild(input);
                    optionDiv.appendChild(label);
                    questionDiv.appendChild(optionDiv);
                });
                
                form.appendChild(questionDiv);
            });
            
            form.addEventListener('change', (event) => {
                const selectedInput = event.target;
                const questionId = parseInt(selectedInput.name.replace('question', ''));
                const questionData = data.questions.find(q => q.id === questionId);

                const userAnswer = selectedInput.value;
                const correctAnswer = questionData.answer;
                
                const feedbackSpan = document.createElement('span');
                feedbackSpan.id = feedback-${questionId};

                const existingFeedback = document.getElementById(feedback-${questionId});
                if (existingFeedback) {
                    existingFeedback.remove();
                }

                if (userAnswer === correctAnswer) {
                    feedbackSpan.textContent = '✅ Correct!';
                    feedbackSpan.classList.add('correct-feedback');
                } else {
                    feedbackSpan.textContent = ❌ Incorrect. The correct answer is: ${correctAnswer};
                    feedbackSpan.classList.add('incorrect-feedback');
                }
                
                const questionDiv = selectedInput.closest('.question-item');
                questionDiv.appendChild(feedbackSpan);
            });
        }
    </script>
</body>
</html>
